{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/search.js","../src/js/pagination.js","../src/js/events.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'uHSLi07StIOlriMPxJGxUbSYsHDs6AFx';\nconst BASE_URL = 'https://app.ticketmaster.com/discovery/v2/';\n\nexport async function fetchData(page, query) {\n  const response = await axios.get(\n    `${BASE_URL}events.json?apikey=${API_KEY}&page=${page}&keyword=${query}`\n  );\n  return response.data;\n}\n\nfetchData(1);\n","import { renderEvents } from './events';\nimport { page, reset } from './pagination.js';\n\nconst form = document.querySelector('.form');\nexport let query = '';\nconst link = document.querySelector('.list');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  link.innerHTML = '';\n\n  query = e.target.elements.search.value.trim();\n\n  if (query === '') {\n    alert('Ти щось забув!');\n    return;\n  }\n\n  renderEvents(page, query);\n  form.reset();\n});\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\n\nimport { renderEvents } from './events';\nimport { query } from './search';\n\nconst options = {\n  totalItems: 0,\n  itemsPerPage: 20,\n  visiblePages: 5,\n  page: 1,\n  centerAlign: false,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n  },\n};\n\nconst pagination = new Pagination('pagination', options);\n\nexport const page = pagination.getCurrentPage();\n\nexport function reset(totalItems) {\n  pagination.reset(totalItems);\n}\n\npagination.on('afterMove', event => {\n  const currentPage = event.page;\n  console.log(currentPage);\n  renderEvents(currentPage, query);\n});\n","import { fetchData } from './api.js';\nimport { page, reset } from './pagination.js';\nimport { query } from './search';\n\nconst link = document.querySelector('.list');\n\nfunction createMarkup(arr) {\n  const murkup = arr.map(({ name }) => `<li><p>${name}</p></li>`).join('');\n\n  link.innerHTML = murkup;\n}\n\nexport async function renderEvents(page, query) {\n  const data = await fetchData(page, query);\n  createMarkup(data._embedded.events);\n\n  if (page === 1) {\n    reset(data.page.totalElements);\n  }\n}\n\nrenderEvents(page, query);\n"],"names":["API_KEY","BASE_URL","fetchData","page","query","axios","form","link","e","renderEvents","options","pagination","Pagination","reset","totalItems","event","currentPage","createMarkup","arr","murkup","name","data"],"mappings":"6vBAEA,MAAMA,EAAU,mCACVC,EAAW,6CAEV,eAAeC,EAAUC,EAAMC,EAAO,CAI3C,OAHiB,MAAMC,EAAM,IAC3B,GAAGJ,CAAQ,sBAAsBD,CAAO,SAASG,CAAI,YAAYC,CAAK,EAC1E,GACkB,IAClB,CAEAF,EAAU,CAAC,ECTX,MAAMI,EAAO,SAAS,cAAc,OAAO,EACpC,IAAIF,EAAQ,GACnB,MAAMG,EAAO,SAAS,cAAc,OAAO,EAE3CD,EAAK,iBAAiB,SAAUE,GAAK,CAOnC,GANAA,EAAE,eAAc,EAEhBD,EAAK,UAAY,GAEjBH,EAAQI,EAAE,OAAO,SAAS,OAAO,MAAM,OAEnCJ,IAAU,GAAI,CAChB,MAAM,gBAAgB,EACtB,MACD,CAEDK,EAAaN,EAAMC,CAAK,EACxBE,EAAK,MAAK,CACZ,CAAC,ECfD,MAAMI,EAAU,CACd,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,EACN,YAAa,GACb,mBAAoB,kBACpB,kBAAmB,iBACnB,SAAU,CACR,KAAM,gDACN,YACE,iEACF,WACE,mGAGF,mBACE,gHAGF,WACE,mGAGH,CACH,EAEMC,EAAa,IAAIC,EAAW,aAAcF,CAAO,EAE1CP,EAAOQ,EAAW,iBAExB,SAASE,EAAMC,EAAY,CAChCH,EAAW,MAAMG,CAAU,CAC7B,CAEAH,EAAW,GAAG,YAAaI,GAAS,CAClC,MAAMC,EAAcD,EAAM,KAC1B,QAAQ,IAAIC,CAAW,EACvBP,EAAaO,EAAaZ,CAAK,CACjC,CAAC,ECzCD,MAAMG,EAAO,SAAS,cAAc,OAAO,EAE3C,SAASU,EAAaC,EAAK,CACzB,MAAMC,EAASD,EAAI,IAAI,CAAC,CAAE,KAAAE,CAAM,IAAK,UAAUA,CAAI,WAAW,EAAE,KAAK,EAAE,EAEvEb,EAAK,UAAYY,CACnB,CAEO,eAAeV,EAAaN,EAAMC,EAAO,CAC9C,MAAMiB,EAAO,MAAMnB,EAAUC,EAAMC,CAAK,EACxCa,EAAaI,EAAK,UAAU,MAAM,EAE9BlB,IAAS,GACXU,EAAMQ,EAAK,KAAK,aAAa,CAEjC,CAEAZ,EAAaN,EAAMC,CAAK"}